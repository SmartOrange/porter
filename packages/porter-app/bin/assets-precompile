#!/usr/bin/env node

'use strict'

const path = require('path')
const Porter = require('@cara/porter')
const porter = new Porter({
  root: path.join(__dirname, '..'),
  paths: ['components', 'browser_modules'],
  dest: 'public',
  loaderConfig: {
    map: {
      'i18n': '/i18n'
    }
  }
})

Promise.all([
  porter.compileAll({ match: ['home.js','test/suite.js'] }),
  porter.compileStyleSheets({ match: 'stylesheets/app.css' })
])
  .then(function() {
    console.log('done')
  })
  .catch(function(err) {
    console.error(err.stack)
  })
